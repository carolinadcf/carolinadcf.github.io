<html>

<head>
    <title>Carol's Portfolio</title>
    <link rel="icon" type="image/x-icon" href="./data/carol.png">
    <link href='https://fonts.googleapis.com/css?family=Nanum Pen Script' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">

    <link rel="stylesheet" type="text/css" href="./style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.skypack.dev/three@0.136/",
                "three/addons/": "https://cdn.skypack.dev/three@0.136/examples/jsm/"
            }
        }
    </script>

</head>

<body>
    <div class="mobile-text">
        <h1>My portfolio is best viewed on a desktop device</h1>
        <p>Please switch to a desktop or laptop for the full experience :)</p>
        <span>Carolina del Corral Farraros</span>
    </div>

    <div id="preloader" class="preloader">
        <div class="ticket">
            <div class="check">

                <div class="title">
                    <h1>CAROL'S MUSEUM</h1>
                </div>

                <hr class="separator">

                <div class="subtitle">
                    <h3>Welcome to my portfolio.</h3>
                    <h3>Work in progress. Be patient :)</h3>
                </div>

                <div class="info">
                    <p id="update"></p>
                    <p>Barcelona</p>
                </div>

                <div class="extra-info">
                    <p>@carolina.dcf</p>
                </div>
            </div>

            <div class="stub" id="preloader-stub">
                <div class="stub-text">
                    <h1>Loading...</h1>
                </div>

                <div class="barcode"></div>
                <div class="ocrloader" id="ocrloader">
                    <em></em>
                    <span></span>
                </div>

                <div class="stub-number">
                    <p>Ticket No: 12343315</p>
                </div>
            </div>
        </div>
    </div>

    <div class="main-ui">
        <!-- about me -->
        <h2 id="about-me-button" class="button">About Me</h2>
        <h2 id="ticket-button" class="button">Show Ticket</h2>
    </div>
    <h2 id="close-button" class="close-button button">Close</h2>

    <div class="scene-ui" id="scene-ui">
        <h2 id="prev-button" class="prev-button button">Previous Artwork</h2>
        <div style="display: flex; flex-direction: row; gap: 10px;">
            <h2 id="back-button" class="back-button button">Back to Center</h2>
            <a id="visit-link-button" class="visit-link-button button">Visit â†’</a>
        </div>
        <h2 id="next-button" class="next-button button">Next Artwork</h2>
    </div>

    <div id="project-modal" class="modal">
        <div class="modal-content">
            <span id="modal-close" class="close">&times;</span>
            <div class="modal-body" id="modal-body">
                <!-- Project details will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <h2 id="close-about-me" class="close-button button">Close</h2>

    <section id="about-me-section" class="about-me-section">
        <div class="book">
            <div id="pages" class="pages">
                <div class="cover page">
                    <h1>Open Me, <br>please!</h1>
                </div>
                <div class="cover page"></div>
                <div class="page">
                    <h2></h2>
                    <p>Welcome to my portfolio website! Here, you'll find a collection of my projects, skills, and
                        experiences. Feel free to explore and learn more about me and my work.</p>
                    <p class="handwritten">I am an open book!</p>
                </div>
                <div class="page">
                    <h2>About Me</h2>
                    <p>Hi! I'm Carolina, an AV Systems Engineer based in Barcelona.</p>
                    <p style="margin-bottom: 0;" class="handwritten">That's me :)</p>
                    <!-- https://www.svgrepo.com/svg/3985/rotated-right-arrow -->
                    <img src="./data/book/arrow.png" alt="Arrow pointing to the right"
                        style="max-width: 17%; margin-left: 14%;">
                    <img src="./data/carol.png" alt="Carol's photo"
                        style="max-width: 80%; position: absolute; right: 0; bottom: 0;">
                </div>
                <div class="page coffee-page">
                    <h2>What I like!</h2>
                    <ul>
                        <li>Board Games <span class="handwritten" style="margin-left: 5%;">like... a
                                lot</span> </li>
                        <li>Cooking</li>
                        <li>Photography</li>
                        <li>Magic</li>
                        <li>Art</li>
                    </ul>
                    <p class="handwritten" style="position: absolute; bottom: 10%; padding: 10px;">Try to
                        find easter eggs
                        related to my interests throughout
                        the site :p</p>
                </div>
                <div class="page">
                    <h2>What motivates me?</h2>
                    <p>As you may have noticed, I like bringing <span class="handwritten"><u>art and technology</u>
                        </span> together.
                    </p>
                    <p>I also place importance on accessibility, social and environmental <span
                            class="handwritten"><u>responsibility</u></span>.</p>
                    <h2>My Education</h2>
                    <p>I am currently studying the <span class="handwritten"><u>Intelligent Interactive
                                Systems</u></span> Master's program at UPF.</p>
                    <p>I graduated as
                        an <span class="handwritten"><u>AV Systems Engineer</u></span> at UPF in 2023.</p>
                    <p>
                        I also did my Erasmus at Maynooth University, Ireland in 2022.
                    </p>
                </div>
                <div class="page">
                    <h2>My work</h2>
                    <p>I have been working as a researcher in the Interactive Technologies Group (GTI) at UPF since
                        2021. I've had the chance to work in different projects and explore various technologies.
                        Here's
                        a few:
                    </p>
                    <ul>
                        <li><b>Emerald Project:</b> Exploring CV and animation techniques to generate <span
                                class="handwritten"><u>3D animations from monocular videos.</u></span></li>
                        <li><b>SignOn Project:</b> Improved LipSync system for virtual avatars.</li>
                    </ul>
                </div>
                <div class="page">
                    <h2>Skills</h2>
                    <ul>
                        <li>3D Graphics (Three.js, WebGL, GLSL, R3F)</li>
                        <li>Programming (JavaScript, Python, C#)</li>
                        <li>Web Development (HTML, CSS, React)</li>
                    </ul>
                    <h2>bla bla bla...</h2>
                    <p>If you paid attention, you might have guessed that I was raised in <span
                            class="handwritten"><u>Barcelona</u></span>.</p>
                    <p>I speak Catalan, Spanish, and English.</p>
                    <!-- https://www.svgrepo.com/svg/9614/turn-right-arrow?edit=true -->
                    <img src="./data/book/turn-right-arrow.png" alt="Arrow pointing to the oxford comma"
                        style="max-width: 12%; margin: 0; position: absolute; left: 57%; bottom: 18%;">
                    <p class="handwritten" style="position: absolute; left: 62%; margin: 0 0 0 5%;">I have mixed
                        feelings
                        towards the
                        Oxford comma...
                    </p>
                </div>
                <div class="page">
                    <h2>Contact Me</h2>
                    <p>If you'd like to get in touch, feel free to connect with me on LinkedIn.</p>
                    <p style="margin-bottom: 0;">LinkedIn: @carolina-dcf</p>
                    <p style="margin-top: 0;">GitHub: @carolinadcf</p>
                    <img src="./data/book/arrow.png" alt="Arrow pointing to LinkedIn text"
                        style="max-width: 17%; transform: rotate(200deg); backface-visibility: hidden; position: absolute; right: 18%; top: 27%;">
                    <p class="handwritten">You will also find a more detailed version of my CV there.</p>
                </div>
                <div class="page">
                    <h2>Acknowledgements</h2>
                    <p>Thanks to the amazing open source projects and communities that make this portfolio possible.
                    </p>
                    <p>Special thanks to:</p>
                    <ul>
                        <li>Three.js: 3D Rendering</li>
                        <li>Freesound: Music</li>
                        <li>Sketchfab: 3D Models</li>
                    </ul>
                    <p>All corresponding credits are given where due in code.</p>
                </div>
                <div class="cover page"></div>
                <div class="cover page"></div>
            </div>
        </div>
    </section>

    <div id="css"></div>
    <div id="webgl"></div>

    <script type="module">
        // get the last commit date
        async function getLastCommitDate(owner, repo, branch) {
            const url = `https://api.github.com/repos/${owner}/${repo}/commits/${branch}`;

            const response = await fetch(url, {
                headers: {
                    'Accept': 'application/vnd.github.v3+json',
                }
            });

            if (!response.ok) {
                throw new Error(`GitHub API error: ${response.status}`);
            }

            const data = await response.json();
            const commitDate = data.commit.committer.date;

            return commitDate;
        }

        // Format the date to DD/MM/YYYY
        function formatDate(isoDateStr) {
            const date = new Date(isoDateStr);
            const day = String(date.getUTCDate()).padStart(2, '0');
            const month = String(date.getUTCMonth() + 1).padStart(2, '0'); // Months are 0-indexed
            const year = date.getUTCFullYear();
            return `${day}/${month}/${year}`;
        }

        await getLastCommitDate('carolinadcf', 'carolinadcf.github.io', 'main')
            .then(date => {
                const formattedDate = formatDate(date);
                document.getElementById('update').innerText = `Last update: ${formattedDate}`;
            })
            .catch(err => {
                console.error(err);
                '';
            });
    </script>

    <!-- detect if on mobile via feature detection -->
    <!-- https://medium.com/geekculture/detecting-mobile-vs-desktop-browsers-in-javascript-ad46e8d23ce5 -->
    <script type="module">
        function hasTouchSupport() {
            return 'ontouchstart' in window || navigator.maxTouchPoints > 0;
        }

        if (false) {
            console.log("Mobile device detected");
            // show mobile text
            document.querySelector('.mobile-text').style.display = 'block';
            // hide preloader and ui
            document.getElementById('preloader').style.display = 'none';
            document.querySelector('.main-ui').style.display = 'none';
        } else {
            console.log("Desktop device detected");
            // hide mobile text
            document.querySelector('.mobile-text').style.display = 'none';
            // run index.js
            import('./index.js');
        }
    </script>
</body>

</html>
